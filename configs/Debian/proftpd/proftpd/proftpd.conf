# proftpd(8) configuration file - auto-generated by i-MSCP
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

# Load required modules
Include /etc/proftpd/modules.conf

<IfModule !mod_sql.c>
  LoadModule               mod_sql.c
</IfModule>
<IfModule !mod_sql_mysql.c>
  LoadModule               mod_sql_mysql.c
</IfModule>
<IfModule !mod_quotatab.c>
  LoadModule               mod_quotatab.c
</IfModule>
<IfModule !mod_quotatab_sql.c>
  LoadModule               mod_quotatab_sql.c
</IfModule>
<IfModule !mod_tls.c>
  LoadModule               mod_tls.c
</IfModule>

# Server configuration
ServerName                 "{FTPD_HOSTNAME}"
ServerType                 standalone
UseIPv6                    {FTPD_IPV6_SUPPORT}
UseReverseDNS              off
MultilineRFC2228           on
DefaultServer              on
LogFormat                  traff "%b %u"
Port                       21
MaxInstances               {FTPD_MAX_CLIENTS}
User                       proftpd
Group                      nogroup

<IfModule mod_ctrls.c>
  ControlsEngine           off
  ControlsMaxClients       2
  ControlsLog              /var/log/proftpd/controls.log
  ControlsInterval         5
  ControlsSocket           /var/run/proftpd/proftpd.sock
</IfModule>

<IfModule mod_ctrls_admin.c>
  AdminControlsEngine      off
</IfModule>

# Global configuration parameters (apply to all servers, including default server)
<Global>
  ServerIdent              on "{FTPD_HOSTNAME} {FTPD_BANNER}"
  DeferWelcome             off
  ShowSymlinks             on
  AllowOverwrite           on
  IdentLookups             off
  AllowStoreRestart        on
  AllowForeignAddress      on
  TimeoutLogin             120
  TimeoutNoTransfer        600
  TimeoutStalled           600
  TimeoutIdle              1200
  DisplayLogin             welcome.msg
  DisplayChdir             message
  ListOptions              "-a +R" "strict"
  DenyFilter               \*.*/
  DefaultRoot              ~
  PassivePorts             {FTPD_PASSIVE_PORT_RANGE}
  MaxClientsPerHost        {FTPD_MAX_CLIENTS_PER_IP}

  <Directory /*>
    Umask                  027  027
    AllowOverwrite         on
    HideNoAccess           on
  </Directory>

  <Limit ALL>
    IgnoreHidden           on
  </Limit>

  RootLogin                off
  TransferLog              /var/log/proftpd/xferlog

  <IfModule mod_delay.c>
    DelayEngine            on
  </IfModule>

  <IfModule mod_sql.c>
    AuthOrder              mod_sql.c
    SQLBackend             mysql
    SQLAuthTypes           Crypt
    SQLAuthenticate        on
    SQLConnectInfo         {FTPD_DATABASE_NAME}@{FTPD_DATABASE_HOST}:{FTPD_DATABASE_PORT} {FTPD_SQL_USER} {FTPD_SQL_PASSWORD}
    SQLUserInfo            ftp_users userid passwd uid gid homedir shell
    SQLGroupInfo           ftp_group groupname gid members
    SQLMinUserUID          {FTPD_MIN_UID}
    SQLMinUserGID          {FTPD_MIN_GID}
    SQLUserWhereClause     "status = 'ok'"
    SQLNegativeCache       on
  </IfModule>
</Global>
