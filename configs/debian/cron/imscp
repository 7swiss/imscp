# CRON(8) configuration file - auto-generated by i-MSCP
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

# Traffic accounting
0,30 * * * * root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-server-traffic >/dev/null 2>&1
0,30 * * * * root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-clients-traffic >/dev/null 2>&1

# Quota accounting
@daily root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-disk-quota > /dev/null 2>&1

# Automatic client accounts suspension
@daily root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-clients-suspend >/dev/null 2>&1

# Backup CP configuration files and database
{BACKUP_CP_MINUTE} {BACKUP_CP_HOUR} * * * root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-cp-backup >/dev/null 2>&1

# Backup client data (Web data, mail data, databases)
{BACKUP_CLIENTS_MINUTE} {BACKUP_CLIENTS_HOUR} * * * root nice -n 10 ionice -c2 -n5 perl {ENGINE_ROOT_DIR}/bin/imscp-clients-backup >/dev/null 2>&1

# Remove backup and log files which are older than 7 days
@weekly root find {CONF_DIR}/*/backup -maxdepth 0 -type f -mtime +7 -regextype sed -regex '.*/.*[0-9]\{10\}$' -exec rm -- {} +
@weekly root find {ROOT_DIR}/backups -maxdepth 0 -type f -mtime +7 -exec rm -- {} +
@weekly root find {LOG_DIR} -maxdepth 0 -type f -mtime +7 -exec rm -- {} +
