# i-MSCP 1.5.x Serie (Ennio Morricone) -- Errata

First of all, if you're updating from an older i-MSCP Serie, you **MUST** read
the [previous errata](1.4.x_errata.md) file from bottom to top.

## Version 1.5.2

### Alternative URLs feature

Due to a bug found in previous versions and which has been fixed in this
version, people that want make use of the alternative URLs feature must run the
installer as follow:

```shell
root@buster:/usr/local/src/imscp# perl imscp-autoinstall -dr alt_urls_feature
```

and answer `yes` to the question.

As a reminder, the alternative URLs feature make customers able to access their
site through alternative URLs.

### Distributions

Support for Debian 10/Buster has been added. Note that support is still
experimental and that this version is not ready yet for production use.

### Dovecot configuration

It is now possible to override the default Dovecot configuration by adding
configuration files into the `/etc/dovecot/imscp.d` directory.

That is the new recommended way to customize the Dovecot configuration. The
configuration files that are put into the `/etc/dovecot/imscp.d` directory are
kept in place when updating/reconfiguring i-MSCP, excepted the configuration
files that are are bound to i-MSCP dovecot listener files, those ending by
`_listener.conf`. For instance: `30_dovecot_namespace_listener.conf`

### i-MSCP FrontEnd dependencies

The frontend dependencies are now installed through the [PHP
dependency manager (composer)](https://getcomposer.org/).

### i-MSCP master SQL user (imscp_user)

Following our security policy hardening, authentication data that belong to the
i-MSCP master SQL user are no longer stored into the
`/etc/mysql/conf.d/imscp.cnf` configuration file.

In previous versions, the `root` user was able to connect to SQL server through
`MYSQL(1)` command-line tool, and perform SQL backup using `MYSQLDUMP(1)`
without having to enter any user credentials.

With this new version, that is no longer possible, unless the `unix_socket`
authentication plugin is enabled for the user.

For people that have lost the i-MSCP master SQL user password, or that have
made an unattended i-MSCP installation, they can always recover it by executing
the [get_imscp_master_sql_user_pwd.pl](../contrib/scripts/get_imscp_master_sql_user_pwd.pl) 
Perl script. For instance:

```shell
root@buster:/usr/local/src/imscp# perl contrib/scripts/get_imscp_master_sql_user_pwd.pl 
[INFO]  Current i-MSCP master SQL user password is: 7U4Bk2cmANuicQ7P
```

### Network setup

From now on and if the administrator explicitely set the primary server IP with
the `None` option, the `INADDR_ANY` IP address will be used in all cases,
regardless of the current IP assigned to domains.

For Apache2 this means that wildcard will be used in place of an IP address in
vhost files.

See also: [1.4.x errata -- Network setup](1.4.x_errata.md#network-setup)

### Plugins compatibility

#### i-MSCP DebugBar plugin

The `DebugBar` plugin versions older than `2.0.0` are not compatible with this
new i-MSCP version. You **MUST** uninstall your current version prior any
i-MSCP update attempt.

#### i-MSCP Instant SSH plugin

The `InstantSSH` plugin versions older than `6.0.0` are not compatibile with
this new i-MSCP version. YOU **MUST** deactivate your current version prior any
i-MSCP update attempt. Once you have updated your i-MSCP installation, you
**MUST** upload the newest `InstantSSH` plugin version prior re-activating it.

#### i-MSCP RoundcubePlugins plugin

The Roundcube plugins provided by older versions of the `RoundcubePlugins`
plugin are not all compatible with Roundcube `1.3.1`, the new provided Roundcube
version.

Once you have updated your i-MSCP installation, you **SHOULD** really considere
upgrading the `RoundcubePlugins` plugin to latest version as provided in our
plugin store.

## Supported SQL servers

Support for SQL servers that are too old has been removed:

- MariaDB < 10.1
- MySQL < 5.7
- Percona < 5.7

if you really want use an older SQL server version, you can always make use of
the [Packages](../contrib/Listeners/Packages/10_packages_override.pl)
listener file to provide your own packages file.

## Version 1.5.1

No errata.

## Version 1.5.0

### Mail accounts

#### Default mail accounts

Default mail accounts are now protected by default. However, the system
administrator can always disable the protection through the administrator
settings interface.

As a reminder, default mail accounts are a restricted list taken from those
that are listed in the [RFC 2142](https://www.ietf.org/rfc/rfc2142.txt).

The following default mail accounts are created:

- `abuse`     : Customer Relations
- `hostmaster`: DNS service
- `postmaster`: SMTP service
- `webmaster` : HTTPD service

Beware that unprotecting default mail accounts is discouraged. These accounts
are needed.

It is important to note that if default mail accounts are not protected and that
a customer turn a default mail account into a normal mail account, that last will
no longer be seen as a default mail account.

#### Mail accounts accounting

##### Catch-all accounts

Catch-all accounts are now counted in the customer mail accounts limit. These
accounts behave like foward mail accounts for an entire domain and therefore,
there are no valid reasons to discard them from the mail accounts limit.

### Cosmetics (frontEnd)

#### Unlimited objects

Unlimited objects, whatever their nature, are now represented by the `âˆž`
mathematical infiny symbol.

### Output compression (FrontEnd)

Output compression at the frontEnd side has been removed. Output is compressed
at the Nginx Web server level.

Note that all related parameters were also removed.

### Userland cache (FrontEnd)

The frontEnd now make use of the [APCu](http://php.net/manual/en/book.apcu.php)
userland cache for caching of several resources such as localization,
translation, service statuses. This list is non exhaustive.

If for any reason, the APCu extension is not available, there is a fallback to
another but more slower cache backend (File caching).

Bear in mind that on production systems, it is really important to disable the
`DEBUG` mode by setting the `DEBUG` configuration parameter to `0` in your
`/etc/imscp/imscp.conf` file. If you don't do so, access to the frontEnd will
be really slow and a warning will be showed at the administrator UI level.
